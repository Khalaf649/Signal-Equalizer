<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Signal Equalizer</title>
  <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
  <link rel="stylesheet" href="index.css" />
</head>

<body>
  <div id="root">
    <div class="min-h-screen">
      <header class="header">
        <div class="container">
          <div class="flex items-center justify-between">
            <div>
              <h1 class="header-title">Signal Equalizer</h1>
              <p class="header-subtitle">
                Professional Audio Processing & Analysis
              </p>
            </div>
            <div class="header-file-info">
              <p class="header-file-label"></p>
              <p class="header-file-name"></p>
            </div>
          </div>
        </div>
      </header>
      <main class="container-main">
        <div id="uploaderCard" class="card card-backdrop-blur card-dashed mt-6">
          <input type="file" id="jsonFile" accept=".json,application/json" class="hidden" />

          <div class="file-uploader">
            <div class="file-uploader-icon">
              <!-- JSON file icon -->
              <svg class="icon-md" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M7 2h8l5 5v13a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2z" />
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 2v6h6" />
                <text x="8" y="17" font-size="6" font-weight="bold" fill="currentColor">
                  { }
                </text>
              </svg>
            </div>

            <div class="file-uploader-text">
              <h3 class="file-uploader-title">Load JSON Configuration</h3>
              <p class="file-uploader-subtitle">
                Upload a <code>.json</code> file containing signal equalizer
                settings
              </p>
            </div>

            <button class="btn btn-default btn-lg" onclick="document.getElementById('jsonFile').click()">
              <!-- Upload icon (replacement for Upload component) -->
              <svg class="icon-md margin-right-05" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
              </svg>
              Choose File
            </button>
          </div>
        </div>
        <!-- Add this right after the uploaderCard div -->
        <div id="loadingSuspense" class="card card-backdrop-blur card-dashed mt-6"" style=" display: none;">
          <div class="file-uploader">
            <div class="file-uploader-icon">
              <!-- Dot wave animation -->
              <svg class="icon-md loading-spinner" fill="currentColor" viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg">
                <circle cx="4" cy="12" r="2">
                  <animate attributeName="cy" values="12;8;12" dur="1s" repeatCount="indefinite" />
                </circle>
                <circle cx="12" cy="12" r="2">
                  <animate attributeName="cy" values="12;6;12" dur="1s" repeatCount="indefinite" begin="0.1s" />
                </circle>
                <circle cx="20" cy="12" r="2">
                  <animate attributeName="cy" values="12;8;12" dur="1s" repeatCount="indefinite" begin="0.2s" />
                </circle>
              </svg>
            </div>

            <div class="file-uploader-text">
              <h3 class="file-uploader-title">Processing Audio Signals</h3>
              <p class="file-uploader-subtitle">
                Extracting signals, computing FFT, and preparing visualizations...
              </p>
            </div>

            <div class="loading-progress">
              <div class="loading-progress-bar">
                <div class="loading-progress-fill"></div>
              </div>
              <span class="loading-progress-text">Loading...</span>
            </div>
          </div>
        </div>
        <div id="mainApp" style="display: none" class="grid grid-cols-1 lg:grid-cols-3 gap-6">
          <div class="lg:col-span-2 space-y-6">
            <div id="input-signal-viewer" class="card card-backdrop-blur signal-viewer">

              <div class="signal-viewer-header">
                <h3 class="signal-viewer-title"></h3>
                <div class="signal-viewer-duration">No Signal</div>
              </div>

              <div class="signal-plot-container" style="width: 100%; height: 300px;"></div>


              <div class="playback-controls">
                <div class="playback-controls-group">
                  <!-- Play / Pause -->
                  <button class="btn btn-sm btn-default play-btn">
                    ‚ñ∂
                  </button>

                  <!-- Stop -->
                  <button class="btn btn-secondary btn-sm stop-btn">
                    ‚èπ
                  </button>

                  <!-- Reset -->
                  <button class="btn btn-secondary btn-sm reset-btn">
                    ‚Ü∫
                  </button>

                  <!-- Mute -->
                  <button class="btn btn-secondary btn-sm mute-toggle-btn">
                    üîä
                  </button>
                </div>

                <div class="playback-controls-slider">
                  <span class="playback-controls-label speed-label">Speed: 1x</span>
                  <input type="range" min="0.25" max="2" step="0.25" value="1" class="speed-slider slider-input">
                  <span class="playback-controls-label pan-label">Pos</span>
                  <input type="range" min="0" max="1" step="0.001" value="0" class="pan-slider slider-input">
                </div>

                <div class="playback-controls-zoom">
                  <!-- Zoom Out -->
                  <button class="btn btn-secondary btn-sm zoom-out">
                    -
                  </button>

                  <span class="playback-controls-zoom-label zoom-label">1x</span>

                  <!-- Zoom In -->
                  <button class="btn btn-secondary btn-sm zoom-in">
                    +
                  </button>
                </div>
              </div>

            </div>

            <div id="output-signal-viewer" class="card card-backdrop-blur signal-viewer">

              <div class="signal-viewer-header">
                <h3 class="signal-viewer-title"></h3>
                <div class="signal-viewer-duration">No Signal</div>
              </div>

              <div class="signal-plot-container" style="width: 100%; height: 300px;"></div>

              <div class="playback-controls">
                <div class="playback-controls-group">
                  <!-- Play / Pause -->
                  <button class="btn btn-sm btn-default play-btn">
                    ‚ñ∂
                  </button>

                  <!-- Stop -->
                  <button class="btn btn-secondary btn-sm stop-btn">
                    ‚èπ
                  </button>

                  <!-- Reset -->
                  <button class="btn btn-secondary btn-sm reset-btn">
                    ‚Ü∫
                  </button>

                  <!-- Mute -->
                  <button class="btn btn-secondary btn-sm mute-toggle-btn">
                    üîä
                  </button>
                </div>

                <div class="playback-controls-slider">
                  <span class="playback-controls-label speed-label">Speed: 1x</span>
                  <input type="range" min="0.25" max="2" step="0.25" value="1" class="speed-slider slider-input">
                  <span class="playback-controls-label pan-label">Pos</span>
                  <input type="range" min="0" max="1" step="0.001" value="0" class="pan-slider slider-input">
                </div>

                <div class="playback-controls-zoom">
                  <!-- Zoom Out -->
                  <button class="btn btn-secondary btn-sm zoom-out">
                    -
                  </button>

                  <span class="playback-controls-zoom-label zoom-label">1x</span>

                  <!-- Zoom In -->
                  <button class="btn btn-secondary btn-sm zoom-in">
                    +
                  </button>
                </div>
              </div>
            </div>
            <div id="input-fft" class="card card-backdrop-blur fft-viewer">
              <div class="fft-viewer-header">
                <h3 class="fft-viewer-title">Input FFT</h3>
              </div>

              <div class="fft-plot-container" style="width: 100%; height: 300px;"></div>
              <div class="playback-controls">
                <div class="playback-controls-group">


                  <!-- Reset -->
                  <button class="btn btn-secondary btn-sm reset-btn">
                    ‚Ü∫
                  </button>


                </div>

                <div class="playback-controls-slider">
                  <span class="playback-controls-label pan-label">Pos</span>
                  <input type="range" min="0" max="1" step="0.001" value="0" class="pan-slider">
                </div>

                <div class="playback-controls-zoom">
                  <!-- Zoom Out -->
                  <button class="btn btn-secondary btn-sm zoom-out">
                    -
                  </button>

                  <span class="playback-controls-zoom-label zoom-label">1x</span>

                  <!-- Zoom In -->
                  <button class="btn btn-secondary btn-sm zoom-in">
                    +
                  </button>
                </div>
              </div>

            </div>

            <div id="output-fft" class="card card-backdrop-blur fft-viewer">
              <div class="fft-viewer-header">
                <h3 class="fft-viewer-title">Output FFT</h3>
              </div>

              <div class="fft-plot-container" style="width: 100%; height: 300px;"></div>

              <div class="playback-controls">
                <div class="playback-controls-group">
                  <!-- Reset -->
                  <button class="btn btn-secondary btn-sm reset-btn">
                    ‚Ü∫
                  </button>
                </div>

                <div class="playback-controls-slider">
                  <span class="playback-controls-label pan-label">Pos</span>
                  <input type="range" min="0" max="1" step="0.001" value="0" class="pan-slider">
                </div>

                <div class="playback-controls-zoom">
                  <!-- Zoom Out -->
                  <button class="btn btn-secondary btn-sm zoom-out">-</button>

                  <span class="playback-controls-zoom-label zoom-label">1x</span>

                  <!-- Zoom In -->
                  <button class="btn btn-secondary btn-sm zoom-in">+</button>
                </div>
              </div>
            </div>
          </div>
           <div id="control-panel" class="space-y-4">
              <div class="card card-backdrop-blur equalizer-panel">
                <div class="equalizer-header">
                  <h2 class="equalizer-title">Equalizer</h2>
                  <div class="flex items-center gap-2">
                    <button
                      id="btnReset"
                      class="btn btn-secondary btn-sm flex items-center gap-1"
                    >
                      <svg
                        class="icon-sm"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <polyline points="1 4 1 10 7 10"></polyline>
                        <path d="M3.51 15a9 9 0 1 0 .49-5"></path>
                      </svg>
                      Reset
                    </button>

                    <button id="btnSave" class="btn btn-default btn-sm">
                      <svg
                        class="icon-sm"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                      >
                        <path
                          d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"
                        />
                        <polyline points="17 21 17 13 7 13 7 21" />
                        <polyline points="7 3 7 8 15 8" />
                      </svg>
                      Save
                    </button>
                  </div>
                </div>
                <div class="space-y-2">
                  <label class="label">Mode</label>
                  <select id="modeSelect" class="select-trigger">
                    <option value="generic">Generic</option>
                    <option value="musical">Musical Instruments</option>
                    <option value="animal_voices">Animal Sounds</option>
                    <option value="human_voices">Human Voices</option>
                  </select>
                </div>
                  <div class="equalizer-controls space-y-4">
                    

                  </div>
              </div>
              <button class="btn btn-default btn-lg w-full space-y-6">
                Apply Equalizer
              </button>
              <div class="card flex items-center justify-between space-y-6">
                <label for="show-spectrograms">Show Spectrograms</label>
                <label class="switch">
                  <input
                    type="checkbox"
                    class="switch-input"
                    id="show-spectrograms"
                    checked
                  />
                  <span class="switch-slider"></span>
                </label>
              </div>
            </div>
        </div>
      </main>
    </div>
  </div>
  <script type="module" src="scripts/controllers/fileController.js"></script>

</body>

</html>